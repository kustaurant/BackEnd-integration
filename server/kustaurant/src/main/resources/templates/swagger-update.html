<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Version Updates</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.4;
            margin: 20px;
        }
        h3 {
            margin-top: 30px;
            color: #333;
        }
        ul {
            margin-left: 20px;
        }
    </style>
</head>
<body>
<h1>Kustaurant API Version Updates</h1>

<h3>Version 1.0.1 (2024-07-20)</h3>
<ul>
    <li>티어표 지도 API 추가</li>
</ul>

<h3>Version 1.0.2 (2024-07-21)</h3>
<ul>
    <li>커뮤니티 API 추가</li>
    <li>홈 화면 식당 반환에 식당 평점 추가</li>
</ul>

<h3>Version 1.0.3 (2024-07-25)</h3>
<ul>
    <li>티어표 지도 API에 즐겨찾기 식당 리스트 추가</li>
</ul>

<h3>Version 1.0.4 (2024-07-29)</h3>
<ul>
    <li>커뮤니티 API 전반적인 구현 수정</li>
</ul>

<h3>Version 1.0.5 (2024-07-31)</h3>
<ul>
    <li>티어표 API 수정
        <ul>
            <li>티어표 리스트를 페이징으로 불러오게 함. (ranking 파라미터를 page로 바꿈)</li>
            <li>리스트 끝에서 500 오류 내던 것을 빈 리스트를 반환하도록 수정</li>
            <li>데이터 형식 통일을 위해 티어표 식당 데이터에 restaurantScore 필드 추가</li>
        </ul>
    </li>
</ul>

<h3>Version 1.0.6 (2024-08-01)</h3>
<ul>
    <li>식당 상세 화면 API 추가 (기능은 아직 정상 동작하지 않음)</li>
</ul>

<h3>Version 1.0.7 (2024-08-05)</h3>
<ul>
    <li>홈, 뽑기 화면에서 반환하는 식당 데이터를 티어 화면의 반환 양식으로 통일</li>
    <li>기존 반환 데이터는 유지하면서 몇 개의 필드 추가</li>
</ul>

<h3>Version 1.0.8 (2024-08-05)</h3>
<ul>
    <li>커뮤니티 API 구현 완료
        <ul>
            <li>로그인된 유저 불러오는 로직은 특정 유저(임재)로 하드코딩된 상태</li>
        </ul>
    </li>
</ul>

<h3>Version 1.0.9 (2024-08-05)</h3>
<ul>
    <li>티어표와 티어표 지도 API 파라미터 변경
        <ul>
            <li>situation을 숫자로 입력하게 수정 (1, 2)</li>
        </ul>
    </li>
    <li>지도 API 기능 구현</li>
    <li>식당 댓글 관련 API 엔드포인트를 "comment"에서 "comments"로 수정</li>
    <li>식당 평가하기, 댓글 관련 API의 반환 형식을 Swagger에서 간단하게나마 표시</li>
    <li>식당 상세 정보 API에서 restaurantCuisineImgUrl 반환 (일부 이미지 불량)</li>
</ul>

<h3>Version 1.0.10 (2024-08-09)</h3>
<ul>
    <li>뽑기 화면 API의 파라미터 타입 수정 및 Swagger 설명 추가</li>
    <li>파라미터를 영어 키워드로 설정 (KO, L1 등)</li>
</ul>

<h3>Version 1.1.1 (2024-08-10)</h3>
<ul>
    <li>로그인이 필요한 기능은 "/api/v1/auth"로 시작</li>
    <li>티어표 API (/api/v1/tier) 구현 완료</li>
    <li>지도 API (/api/v1/tier/map) 구현 완료</li>
</ul>

<h3>Version 1.2.1 (2024-08-13)</h3>
<ul>
    <li>식당 상세 화면 API 업데이트
        <ul>
            <li>/evaluation GET, POST에서 evaluationSituations를 문자열 리스트에서 정수형 리스트로 변환</li>
            <li>즐겨찾기 토글 기능 구현</li>
            <li>이전 평가 데이터 불러오기 구현</li>
            <li>댓글 불러오기 및 추천/비추천 기능 구현</li>
            <li>대댓글 달기 기능 구현 (삭제 기능 미구현)</li>
        </ul>
    </li>
</ul>

<h3>Version 1.2.2 (2024-08-13)</h3>
<ul>
    <li>뽑기 화면 API 업데이트
        <ul>
            <li>조건에 맞는 식당이 없을 경우 404 에러 메시지 반환</li>
            <li>no_img일 때 대체 이미지로 변환하여 반환</li>
        </ul>
    </li>
</ul>

<h3>Version 1.2.3 (2024-08-16)</h3>
<ul>
    <li>식당 상세 화면 API 업데이트
        <ul>
            <li>restaurantScore 필드를 String에서 Double로 변경</li>
            <li>점수가 0일 경우 null 반환</li>
        </ul>
    </li>
</ul>

<h3>Version 1.2.4 (2024-08-19)</h3>
<ul>
    <li>식당 상세 화면 댓글 API 업데이트
        <ul>
            <li>댓글이 로그인한 유저의 댓글인지 여부를 나타내는 필드(isCommentMine) 추가</li>
            <li>영향 받는 API:
                <ul>
                    <li>댓글 불러오기: /api/v1/restaurants/{restaurantId}/comments</li>
                    <li>대댓글 달기: /api/v1/restaurants/{restaurantId}/comments/{commentId}</li>
                </ul>
            </li>
        </ul>
    </li>
</ul>

<h3>Version 1.3.1 (2024-08-21)</h3>
<ul>
    <li>검색 API 구현
        <ul>
            <li>home 컨트롤러에 검색 API를 구현했습니다.</li>
        </ul>
    </li>
</ul>

<h3>Version 2.0.0 (2025-09-15)</h3>
<p> 전체 컨트롤러가 v1->v2 교체되었습니다. 몇몇 엔드포인트, 전달,반환 값들이 변경되었습니다. 또한 전체 응답 에러반환 양식을 통일했습니다.</p>
<p> 생각보다 비슷한 기능들이 통일화가 안되어 있습니다. 나눠서 작업 하다 보니.. <br>작업 과정에서 비효율성이 있을 수도 있겠다 싶은데 혹시 이건 아니다 싶으면 바로 연락 주시면 감사하겠습니다.</p>
<p> 논의사항이나 버그가 있으면 연락 주세요. 나름대로 테스트 한다고 해봤지만 완벽하지 않을 수 있습니다. 미리 양해 말씀 드립니다 .._ _ </p>


<ul>
    <li>음식점,게시글 상세조회 페이지에서 '조회수'가 추가됬습니다.</li>
    <ul>
        <li>조회수는 회원/비회원 마다 최대 1시간에 1회 증가합니다. 또한 음식점 랭킹 산정시에 조회수가 이용됩니다.</li>
        <li>'조회수' 를 필요로 하는 요청에 추가적인 header를 넣어줘야 합니다. (컨트롤러 참고)</li>
    </ul>
    <br>

    <li>로그인/비로그인 구분된 컨트롤러가 하나로 통일되었고 유저정보가 없는경우 유저정보는 null로 전달해 주세요.</li>
    <br>

    <li>aos/ios 마다 이분화된 이미지 반환타입을 하나로 통일했습니다. (전체 .svg로 통일) </li>
    <ul>
        <li>기존에 이미지반환이 포함된 컨트롤러에서 보내던 기기식별값을 더이상 보내지 않아도 됩니다.</li>
    </ul>
    <br>

    <li>별도 표시가 없는한 모든 헤더의 mediaType = "application/json" 입니다.(거의다 이거임)</li>
    <br>

    <li>기존 토글방식의 엔드포인트는 멱등성을 고려하게끔 변경됬습니다. (넣어준 인자에 따라 or 엔드포인트별 분리)</li>
    <br>

    <li>구 엔드포인트인 모든 /api/v1./** 요청들에 대해서 내부적으로 호환작업을 마쳤습니다. 만, 커뮤니티 전체를 포함 일부 기능에선 호환작업이 안되 아래와 같이 반환됩니다.</li>
    <ul>
        <li>HttpStatus Code : 503 (별도 표시x, 아래 두 정보만 반환)</li>
        <li>MAINTENANCE</li>
        <li>현재 앱 업데이트 중입니다. 웹 서비스는 정상적으로 이용 가능합니다. 빠른 시일 내에 찾아뵙겠습니다.</li>
    </ul>
    <br>

    <li>용어 및 정책 정리</li>
    <ul>
        <li>'게시글의 댓글'인 경우, '게시글-댓글' 과 같이 '-'를 이용해 표현했습니다.</li>
        <li>게시글의 댓글은 최대 2depth로 댓글, 대댓글 까지만 가능합니다. (대댓글에 또 댓글 불가)</li>
        <br>
        <li>평가 영역은 '평가'와 '평가의 댓글(평가-댓글)', 이 모두를 합해 '리뷰' 라고 부릅니다.</li>
        <li>평가는 지울 수 없으며, 평가-댓글 은 지울 수 있습니다.</li>
    </ul>
</ul>

</body>
</html>
